((e,t)=>{function s(e){this.elmts=e}var i=e=>{if("object"==typeof e)return new s([e]);e=i.fixSelector(e);var r=[];return t.querySelectorAll(e).forEach((e=>{r.push(e)})),new s(r)};i.init=()=>{i.ui.setHover()},i.fixSelector=e=>{let t=e.split(",");for(var s=0,i=t.length;s<i;s++)t[s]=t[s].trim().replace(/^>(.*)/,":scope>$1");return t.join(",")},i.sliders={ready:!1,list:[],tmo:null,resize:()=>{clearTimeout(i.sliders.tmo),i.sliders.tmo=setTimeout((()=>{for(let e=0,t=i.sliders.list.length;e<t;e++){let t=i.sliders.list[e];if(t.options.break&&t.options.break.length){let e;for(let s=0,i=t.options.break.length;s<i;s++){let i=t.options.break[s];i.width>window.innerWidth&&(e=i)}void 0===e&&(e=t.options),t.divide!=e.view&&(t.fixExtends(t.divide),t.divide=e.view,t.circleOffset=t.divide>1?Math.ceil(t.divide/2):1,t.extend(),t.target.setAttr("data-type",t.divide))}t.goTo(t.index)}}),400)}},i.isTouch=()=>(void 0===i.isTouch.state&&(i.isTouch.state=t.documentElement&&"ontouchstart"in t.documentElement),i.isTouch.state),i.isPassive=()=>i.fn.getPassive(),i.isDark=()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s.fn=s.prototype={get(e=!1){return!1===e?this.elmts:void 0!==this.elmts[e]&&this.elmts[e]},on(e,t){let s=i.fn.getPassive(),r=e.split(" ");return this.each((e=>{for(let i=0,n=r.length;i<n;i++)e.addEventListener(r[i],t,s)})),this},off(e,t){let s=i.fn.getPassive(),r=e.split(" ");return this.each((e=>{for(let i=0,n=r.length;i<n;i++)e.removeEventListener(r[i],t,s)})),this},click(e){let t=i.fn.getPassive();return this.each((s=>{s.addEventListener("click",e,t)})),this},addClass(e){return i.fn.parseClasses(this.elmts,e,((e,t,s)=>{t=Array.from(new Set([...s,...t])).join(" "),e.className=t})),this},removeClass(e){return i.fn.parseClasses(this.elmts,e,((e,t,s)=>{s=s.filter((e=>!t.includes(e))),e.className=s.join(" ")})),this},hasClass(e){let t=[];return this.each((s=>{s.classList.contains(e)?t.push(!0):t.push(!1)})),t.length>1?t:!!t[0]},css(e){for(var t=0,s=this.elmts.length;t<s;t++){let s=this.elmts[t];for(let t in e)s.style[t]=e[t]}return this},getAttr(e){let t=[];return this.each((s=>{let i=s.getAttribute(e);null!=i?i=""===i||i:null===i&&(i=!1),t.push(i)})),t.length>1?t:!!t.length&&t[0]},setAttr(e,t=""){return this.each((s=>{s.setAttribute(e,t)})),this},removeAttr(e){return this.each((t=>{t.removeAttribute(e)})),this},hover(e="default"){let t=i.fn.getPassive(),s="default"===e?i.fn.over:i.fn.svgOver;return this.each((e=>{for(let r=0,n=i.ui.hover.length;r<n;r++){let n=i.ui.hover[r],a="touchstart"===n?{passive:!0}:t;e.addEventListener(n,s,a)}})),this},remove(){return this.each((e=>{e.parentNode.removeChild(e)})),!0},replace(e){return this.each((t=>{t.outerHTML=e})),this},append(e){return this.each((t=>{t.insertAdjacentHTML("beforeEnd",e)})),this},prepend(e){return this.each((t=>{t.insertAdjacentHTML("beforeBegin",e)})),this},afterbegin(e){return this.each((t=>{t.insertAdjacentHTML("afterbegin",e)})),this},after(e){return this.each((t=>{t.insertAdjacentHTML("afterEnd",e)})),this},val(e=!1){if(!1!==e)return this.each((t=>{t.value=e})),this;{let e=[];return this.each((t=>{let s=!!t.value&&t.value;if("string"==typeof s)if(isNaN(s)||isNaN(parseFloat(s))){let e=s.match(/^(true|false)$/);null!==e&&(s="false"!==e[1])}else s=parseFloat(s,10);e.push(s)})),e.length>1?e:!!e.length&&e[0]}},hide(){return this.each((e=>{e.style.display="none"})),this},show(){return this.each((e=>{e.style.display="block"})),this},text(e=!1){let t=i.fn.textHtml(this.elmts,e,"text");return"set"===t?this:t},html(e=!1){let t=i.fn.textHtml(this.elmts,e,"html");return"set"===t?this:t},fadeIn(e=1e3,t=!1){return i.fn.fadeInOut(this,e,"fadeIn",t),this},fadeOut(e=600,t=!1){return i.fn.fadeInOut(this,e,"fadeOut",t),this},width(e=!1){let t=i.fn.widthHeight(this.elmts,e,"width");return"set"===t?this:t},height(e=!1){let t=i.fn.widthHeight(this.elmts,e,"height");return"set"===t?this:t},each(e){for(let t=0,s=this.elmts.length;t<s;t++)e(this.elmts[t]);return this},slideUp(t=500,s=!1){let r=!1;return"function"==typeof t?(s=t,t=500):"remove"===t&&(r=!0,t=500),this.each((n=>{if(clearTimeout(n.tmo),!n.getAttribute("data-display")){let t=e.getComputedStyle(n);n.setAttribute("data-display",t.display)}n.style.transitionProperty="height, margin, padding, opacity",n.style.transitionDuration=t+"ms",n.style.boxSizing="border-box",n.style.height=n.offsetHeight+"px",n.style.overflow="hidden",setTimeout((()=>{n.style.opacity=0,n.style.height=0,n.style.paddingTop=0,n.style.paddingBottom=0,n.style.marginTop=0,n.style.marginBottom=0}),50),n.tmo=setTimeout((()=>{n.style.display="none",i.fn.removeProps(n,["opacity","box-sizing","height","padding-top","padding-bottom","margin-top","margin-bottom","overflow","transition-duration","transition-property"]),s&&s(n),r&&n.parentNode.removeChild(n)}),t+50)})),this},slideDown(t=500,s=!1){return"string"==typeof t?t=500:"function"==typeof t&&(s=t,t=500),this.each((r=>{clearTimeout(r.tmo),r.style.display="none";let n=e.getComputedStyle(r),a=parseInt(n.paddingTop,10)+parseInt(n.paddingBottom,10),o=n.opacity;r.style.overflow="hidden",r.style.opacity=0,r.style.height=0,r.style.paddingTop=0,r.style.paddingBottom=0,r.style.marginTop=0,r.style.marginBottom=0,r.style.boxSizing="border-box",r.style.transitionProperty="height, margin, padding",r.style.transitionDuration=t+"ms",r.style.display="block";let l=r.scrollHeight+a,d=r.getAttribute("data-display");d&&(r.style.display=d),setTimeout((()=>{r.style.opacity=o,r.style.height=l+"px",i.fn.removeProps(r,["padding-top","padding-bottom","margin-top","margin-bottom"])}),50),r.tmo=setTimeout((()=>{i.fn.removeProps(r,["opacity","box-sizing","height","overflow","transition-duration","transition-property"]),s&&s(r)}),t+50)})),this},getBounds(){let e=[];return this.each((t=>{let s={};"getBoundingClientRect"in t?(s=t.getBoundingClientRect(),void 0===s.x&&(s.x=s.left,s.y=s.top)):(s.x=t.offsetLeft,s.y=t.offsetTop,s.width=t.offsetWidth,s.height=t.offsetHeight),e.push(s)})),e.length>1?e:!!e.length&&e[0]},parent(e=!1){let t,i=[];return this.each((s=>{e?(t=s.closest(e),t&&i.push(t)):i.push(s.parentNode)})),new s(i)},textWidth(){let s=[];return this.each((i=>{let r=i.innerText,n=t.createElement("span"),a=e.getComputedStyle(i);n.innerHTML=r,n.style.position="absolute",n.style.visibility="hidden",n.style.font=a.font,t.body.appendChild(n);let o=n.offsetWidth;t.body.removeChild(n),s.push(o)})),s.length>1?s:!!s.length&&s[0]},top(){let e=[];return this.each((t=>{e.push(t.offsetTop)})),e.length>1?e:!!e.length&&e[0]},find(e){let t=[];return e=i.fixSelector(e),this.each((s=>{s.querySelectorAll(e).forEach((e=>{t.push(e)}))})),new s(t)},focus(){return this.elmts.length&&this.elmts[0].focus(),this},counter(e){let t=!1;if(this.each((s=>{"object"!=typeof e.count&&(e.count=[parseFloat(s.innerText),e.count]),void 0===e.duration&&(e.duration=1e3);var i=e.duration/50;let r=(e.count[1]-e.count[0])/i;void 0===e.current?(s.tmo&&clearTimeout(s.tmo),e.current=e.count[0]):e.current+=r;let n=e.current;e.current>=e.count[1]&&(n=e.count[1]),e.round&&(n=n.toFixed(e.round)),e.mask&&(n=e.mask.replace(/n/,n)),e.current<e.count[1]&&(t=!0),s.innerText=n})),t){let t=this;setTimeout((()=>{t.counter(e)}),50)}return this},copy(){let e=[];return this.each((t=>{e.push(t.cloneNode(!0))})),e.length>1?e:!!e.length&&e[0]},slider(t){let s=[];this.each((e=>{let r=new i.slider(e,t);r.id=i.sliders.list.length+1,i.sliders.list.push(r),s.push(r)}));let r=i.fn.getPassive();return i.sliders.ready||(e.addEventListener("resize",i.sliders.resize,r),i.sliders.ready=!0),s.length>1?s:!!s.length&&s[0]},gallery(){let e=i.fn.getPassive(),t=1;return this.each((s=>{s.setAttribute("data-index",t),s.addEventListener("click",i.gallery.init,e),t++})),this}},i.gallery={slider:null,init(){let e=[],t=i(this),s=t.parent(),r=t.getAttr("data-index");s.find(":scope > *").each((t=>{let s=`<div class="item"><img src="${t.getAttribute("data-img")}" alt="" /></div>`;e.push(s)}));let n=`<div id="QXGallery">\n\t\t\t<div class="slider">\n\t\t\t\t<div class="slides">\n\t\t\t\t\t<div class="wrap">\n\t\t\t\t\t\t${e.join("")}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="nav prev"></div>\n\t\t\t\t<div class="nav next"></div>\n\t\t\t\t<div class="circles"></div>\n\t\t\t</div>\n\t\t\t<div class="close">\n\t\t\t\t<div class="n">Close</div>\n\t\t\t\t<div class="i"></div>\n\t\t\t</div>\n\t\t</div>`;i("body").append(n),i.gallery.slider=i("#QXGallery>.slider").slider({index:r}),i("#QXGallery>.close").hover().click(i.gallery.close)},close(){i.gallery.slider.destroy(),i("#QXGallery").hide().remove()}},i.slider=function(e,t={}){let s=i.fn.getPassive();this.target=i(e),this.target.get(0).slider=this,this.options=t||{},this.slides=this.target.find(".slides"),this.slides.get(0).slider=this,this.wrap=this.target.find(".slides>.wrap");let r=this.wrap.get(0);if(r.slider=this,r.addEventListener("transitionend",i.slider.fn.end,s),this.items=this.target.find(".slides>.wrap>.item"),this.amount=this.items.length,this.target.addClass("qxSlider"),this.nav=this.target.find(".nav"),this.createCircles(),this.options.break&&this.options.break.length){let e;for(let t=0,s=this.options.break.length;t<s;t++){let s=this.options.break[t];s.width>window.innerWidth&&(e=s)}void 0===e&&(e=this.options),this.divide=e.view}else this.divide=1,this.options.view&&(this.divide=this.options.view);this.divide>1?(this.amount<this.divide&&(this.divide=this.amount),this.target.setAttr("data-type",this.options.view),this.circleOffset=Math.ceil(this.divide/2)):this.circleOffset=1,this.options.index=this.options.index-1||0,this.options.index=Math.min(this.options.index,this.amount),this.index=this.divide+this.options.index,this.currentIndex=1+this.options.index,this.extend(),this.navBind(),this.drag.bind(this.slides),this.goTo(this.index)},i.slider.fn=i.slider.prototype={drag:{bind(e){let t=i.fn.getPassive();e=e.get(0);for(let s=0,r=i.ui.drag.length;s<r;s++){let r=i.ui.drag[s],n="touchstart"===r?{passive:!0}:t;e.addEventListener(r,e.slider.drag.on,n)}},startTime:!1,move:!1,posX:0,newX:0,wrapX:0,on(t){let s,r,n,a,o,l,d,h;switch(t.type){case"mousedown":case"touchstart":n=i.fn.getPassive(),e.target=s=t.currentTarget,r=s.slider,r.drag.startTime=new Date,r.drag.move=!0,r.drag.posX=r.drag.newX=t.clientX||t.touches[0].clientX,r.drag.wrapX=r.wrap.getBounds().x-r.slides.getBounds().x,r.slides.addClass("drag"),i.isTouch()?(e.addEventListener("touchmove",r.drag.on,n),e.addEventListener("touchend",r.drag.on,n),e.addEventListener("touchcancel",r.drag.on,n)):(e.addEventListener("mousemove",r.drag.on,n),e.addEventListener("mouseup",r.drag.on,n));break;case"mousemove":case"touchmove":s=e.target,r=s.slider,r.drag.newX=t.clientX||t.touches[0].clientX,o=r.drag.wrapX+r.drag.newX-r.drag.posX,r.wrap.css({transform:`translate3d(${o}px,0,0)`,webkitTransition:`translate3d(${o}px,0,0)`}),Math.abs(r.drag.newX-r.drag.posX)>20&&r.target.addClass("preventClick"),t.preventDefault();break;case"mouseup":case"touchend":case"touchcancel":n=i.fn.getPassive(),s=e.target,r=s.slider,r.drag.move=!1,i.isTouch()?(e.removeEventListener("touchmove",r.drag.on,n),e.removeEventListener("touchend",r.drag.on,n),e.removeEventListener("touchcancel",r.drag.on,n)):(e.removeEventListener("mousemove",r.drag.on,n),e.removeEventListener("mouseup",r.drag.on,n)),r.slides.removeClass("drag"),l=r.drag.startTime?new Date-r.drag.startTime:1e3,d=r.drag.newX-r.drag.posX,h=Math.abs(d/r.target.width()),a=h>.2/r.divide||Math.abs(d)>20&&l<100?d<0?"next":"prev":r.index,r.drag.startTime=!1,r.drag.offsetX=0,r.drag.posX=0,r.drag.newX=0,r.drag.wrapX=0,r.goTo(a),t.stopPropagation(),delete e.target,r.target.removeClass("preventClick")}}},navBind(){this.nav.hover().click(i.slider.fn.goTo),this.nav.each((e=>{e.slider=this}))},createCircles(){let e=this.target.find(".circles");if(e.length){let t='<div class="i"></div>',s=[];for(let e=0;e<this.amount;e++)s.push(t);e.html(s.join("")),this.circles=e.find(".i")}},extend(){let e,t,s=this;for(s.slides.addClass("drag"),e=0,t=s.divide;e<t;e++){let t=s.items.get(s.amount-1-e);s.wrap.afterbegin(t.outerHTML);let i=s.items.get(e);s.wrap.append(i.outerHTML)}let i=-s.index*(s.slides.width()/this.divide);s.wrap.css({transform:`translate3d(${i}px,0,0)`,webkitTransition:`translate3d(${i}px,0,0)`}),setTimeout((()=>{s.slides.removeClass("drag")}),0)},fixExtends(e){let t=this;t.slides.addClass("drag");let s=0;t.wrap.find(".item").each((r=>{(s<e||s>=e+t.amount)&&i(r).remove(),s++}))},goTo(e){let t,s;if("object"==typeof e){let r=e.currentTarget;t=r.slider,s=i(r).hasClass("prev")?"prev":"next",e.preventDefault(),e.stopPropagation()}else t=this,s=e;"number"==typeof s||("prev"===s?s=t.index-1:"next"===s&&(s=t.index+1)),t.index=s;let r=t.index-t.divide;if(t.index<=t.divide-t.circleOffset?t.currentIndex=r+t.circleOffset+t.amount:r+t.circleOffset>t.amount?t.currentIndex=r+t.circleOffset-t.amount:t.currentIndex=r+t.circleOffset,t.circles){t.circles.removeClass("active");let e=t.circles.get(t.currentIndex-1);i(e).addClass("active")}return t.move(),!0},move(){let e=this,t=-e.index*(e.slides.width()/this.divide);e.wrap.css({transform:`translate3d(${t}px,0,0)`,webkitTransform:`translate3d(${t}px,0,0)`})},end(e){let t=e.currentTarget;e.stopPropagation();let s,i=t.slider,r=!1;0===i.index?(i.index=i.amount,s=-i.amount*i.slides.width()/i.divide,r=!0):i.index>i.amount+(i.divide-1)&&(i.index=i.divide,s=-i.index*i.slides.width()/i.divide,r=!0),r&&(i.slides.addClass("drag"),i.wrap.css({transform:`translate3d(${s}px,0,0)`,webkitTransform:`translate3d(${s}px,0,0)`}),setTimeout((()=>{i.slides.removeClass("drag")}),0))},destroy(){let e=this.id-1;if(i.sliders.list[e]){i.sliders.list.splice(e,1);let t=1;for(let e of i.sliders.list)e.id=t,t++}}},i.ui={hoverEvents:{desktop:["mouseenter","mouseleave","mousecancel"],touch:["touchstart","touchend","touchcancel"]},drag:["mousedown","touchstart"],setHover:()=>{void 0===i.ui.hover&&(i.ui.hover=i.isTouch()?i.ui.hoverEvents.touch:i.ui.hoverEvents.desktop)}},i.fn={getPassive:()=>{if(void 0===i.fn.isPassive){i.fn.isPassive=!1;try{Object.defineProperty({},"passive",{get:()=>(i.fn.isPassive=!0,!0)})}catch(e){}}return!!i.fn.isPassive&&{passive:!1}},over(e){switch(e.type){case"mouseenter":case"mouseover":case"touchstart":i(this).addClass("hover");break;case"mouseleave":case"mousecancel":case"touchend":case"touchcancel":i(this).removeClass("hover")}},svgOver(e){switch(e.type){case"mouseenter":case"touchstart":i(this).setAttr("data-hover");break;case"mouseleave":case"mousecancel":case"touchend":case"touchcancel":i(this).removeAttr("data-hover")}},parseClasses:(e,t,s)=>{t=t.split(" ");for(var i=0,r=e.length;i<r;i++){let r=e[i],n=r.className.length?r.className.split(/\s+/):[];s(r,t,n)}},textHtml:(e,t,s="html")=>{let r,n,a,o;if("html"===s?(a="outerHTML",o="innerHTML"):a=o="innerText",!1===t)return i.fn.prop(e,a);for(r=0,n=e.length;r<n;r++)e[r][o]=t;return"set"},widthHeight:(e,t=!1,s="width")=>{let r,n,a,o;if("width"===s?(a="offsetWidth",o="width"):(a="offsetHeight",o="height"),!1!==t){let s="number"==typeof t?"px":"";for(r=0,n=e.length;r<n;r++)e[r].style[o]=t+s;return"set"}return i.fn.prop(e,a)},prop:(e,t)=>{let s=[];for(let i=0,r=e.length;i<r;i++)s.push(e[i][t]);return s.length>1?s:!!s.length&&s[0]},removeProps:(e,t=[])=>{for(let s=0,i=t.length;s<i;s++)e.style.removeProperty(t[s])},fadeInOut:(t,s,r="fadeIn",n)=>{t.each((t=>{t.style.removeProperty("display");let a=e.getComputedStyle(t).display;"none"===a&&(a="block"),t.style.opacity="fadeOut"===r?1:0,t.style.display=a,setTimeout((()=>{t.style.transition=`opacity ${s}ms`,t.style.opacity="fadeOut"===r?0:1}),10),e.setTimeout((()=>{let e=["transition"];"fadeIn"===r&&e.push("opacity"),i.fn.removeProps(t,e),"function"==typeof n&&n(t)}),s)}))}},Object.defineProperty(s.fn,"length",{get(){return this.elmts.length}}),i.init(),e.$=i})(window,document);
